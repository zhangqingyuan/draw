{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nexport const useAudioControl = (bgMusic, rollMusic, winMusic) => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const bgAudioRef = useRef(new Audio(bgMusic));\n  const rollAudioRef = useRef(new Audio(rollMusic));\n  const winAudioRef = useRef(new Audio(winMusic));\n  useEffect(() => {\n    const bgAudio = bgAudioRef.current;\n    bgAudio.loop = true;\n    return () => {\n      bgAudio.pause();\n      rollAudioRef.current.pause();\n      winAudioRef.current.pause();\n    };\n  }, []);\n  const togglePlayPause = () => {\n    const bgAudio = bgAudioRef.current;\n    if (isPlaying) {\n      bgAudio.pause();\n    } else {\n      bgAudio.play().catch(error => {\n        console.log('Playback failed:', error);\n      });\n    }\n    setIsPlaying(!isPlaying);\n  };\n  const playRollMusic = () => {\n    if (isPlaying) {\n      const rollAudio = rollAudioRef.current;\n      rollAudio.currentTime = 0;\n      rollAudio.play().catch(error => {\n        console.log('Roll music playback failed:', error);\n      });\n    }\n  };\n  const playWinMusic = () => {\n    if (isPlaying) {\n      const winAudio = winAudioRef.current;\n      winAudio.currentTime = 0;\n      winAudio.play().catch(error => {\n        console.log('Win music playback failed:', error);\n      });\n    }\n  };\n  return {\n    isPlaying,\n    togglePlayPause,\n    playRollMusic,\n    playWinMusic\n  };\n};\n_s(useAudioControl, \"8bqr/qS61vhE9nT7ARHGCjhmnhk=\");","map":{"version":3,"names":["useState","useEffect","useRef","useAudioControl","bgMusic","rollMusic","winMusic","_s","isPlaying","setIsPlaying","bgAudioRef","Audio","rollAudioRef","winAudioRef","bgAudio","current","loop","pause","togglePlayPause","play","catch","error","console","log","playRollMusic","rollAudio","currentTime","playWinMusic","winAudio"],"sources":["/Users/lingxin/myapp/draw/src/hooks/useAudioControl.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nexport const useAudioControl = (bgMusic, rollMusic, winMusic) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const bgAudioRef = useRef(new Audio(bgMusic));\n  const rollAudioRef = useRef(new Audio(rollMusic));\n  const winAudioRef = useRef(new Audio(winMusic));\n\n  useEffect(() => {\n    const bgAudio = bgAudioRef.current;\n    bgAudio.loop = true;\n\n    return () => {\n      bgAudio.pause();\n      rollAudioRef.current.pause();\n      winAudioRef.current.pause();\n    };\n  }, []);\n\n  const togglePlayPause = () => {\n    const bgAudio = bgAudioRef.current;\n    if (isPlaying) {\n      bgAudio.pause();\n    } else {\n      bgAudio.play().catch(error => {\n        console.log('Playback failed:', error);\n      });\n    }\n    setIsPlaying(!isPlaying);\n  };\n\n  const playRollMusic = () => {\n    if (isPlaying) {\n      const rollAudio = rollAudioRef.current;\n      rollAudio.currentTime = 0;\n      rollAudio.play().catch(error => {\n        console.log('Roll music playback failed:', error);\n      });\n    }\n  };\n\n  const playWinMusic = () => {\n    if (isPlaying) {\n      const winAudio = winAudioRef.current;\n      winAudio.currentTime = 0;\n      winAudio.play().catch(error => {\n        console.log('Win music playback failed:', error);\n      });\n    }\n  };\n\n  return {\n    isPlaying,\n    togglePlayPause,\n    playRollMusic,\n    playWinMusic\n  };\n}; "],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEnD,OAAO,MAAMC,eAAe,GAAGA,CAACC,OAAO,EAAEC,SAAS,EAAEC,QAAQ,KAAK;EAAAC,EAAA;EAC/D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMU,UAAU,GAAGR,MAAM,CAAC,IAAIS,KAAK,CAACP,OAAO,CAAC,CAAC;EAC7C,MAAMQ,YAAY,GAAGV,MAAM,CAAC,IAAIS,KAAK,CAACN,SAAS,CAAC,CAAC;EACjD,MAAMQ,WAAW,GAAGX,MAAM,CAAC,IAAIS,KAAK,CAACL,QAAQ,CAAC,CAAC;EAE/CL,SAAS,CAAC,MAAM;IACd,MAAMa,OAAO,GAAGJ,UAAU,CAACK,OAAO;IAClCD,OAAO,CAACE,IAAI,GAAG,IAAI;IAEnB,OAAO,MAAM;MACXF,OAAO,CAACG,KAAK,CAAC,CAAC;MACfL,YAAY,CAACG,OAAO,CAACE,KAAK,CAAC,CAAC;MAC5BJ,WAAW,CAACE,OAAO,CAACE,KAAK,CAAC,CAAC;IAC7B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAMJ,OAAO,GAAGJ,UAAU,CAACK,OAAO;IAClC,IAAIP,SAAS,EAAE;MACbM,OAAO,CAACG,KAAK,CAAC,CAAC;IACjB,CAAC,MAAM;MACLH,OAAO,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;QAC5BC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,KAAK,CAAC;MACxC,CAAC,CAAC;IACJ;IACAZ,YAAY,CAAC,CAACD,SAAS,CAAC;EAC1B,CAAC;EAED,MAAMgB,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIhB,SAAS,EAAE;MACb,MAAMiB,SAAS,GAAGb,YAAY,CAACG,OAAO;MACtCU,SAAS,CAACC,WAAW,GAAG,CAAC;MACzBD,SAAS,CAACN,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;QAC9BC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEF,KAAK,CAAC;MACnD,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAInB,SAAS,EAAE;MACb,MAAMoB,QAAQ,GAAGf,WAAW,CAACE,OAAO;MACpCa,QAAQ,CAACF,WAAW,GAAG,CAAC;MACxBE,QAAQ,CAACT,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;QAC7BC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,KAAK,CAAC;MAClD,CAAC,CAAC;IACJ;EACF,CAAC;EAED,OAAO;IACLb,SAAS;IACTU,eAAe;IACfM,aAAa;IACbG;EACF,CAAC;AACH,CAAC;AAACpB,EAAA,CAvDWJ,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}